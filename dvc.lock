schema: '2.0'
stages:
  preprocessing:
    cmd: python src/preprocessing.py
    deps:
    - path: data/external/a1_RestaurantReviews_HistoricDump.tsv
      hash: md5
      md5: 102f1f4193e0bdebdd6cce7f13e0a839
      size: 54686
    - path: src/preprocessing.py
      hash: md5
      md5: 1f0db9bb60d4c46c1624cbd1113d30cc
      size: 2045
    outs:
    - path: data/processed/corpus.joblib
      hash: md5
      md5: 243212bb05cce5e3fdc72bfd2826d329
      size: 31612
  load_data:
    cmd: python src/load_data.py
    deps:
    - path: src/load_data.py
      hash: md5
      md5: 0fc3c85d3e4714adfe7ed52e5a3c3451
      size: 1125
    outs:
    - path: data/external/a1_RestaurantReviews_HistoricDump.tsv
      hash: md5
      md5: 102f1f4193e0bdebdd6cce7f13e0a839
      size: 54686
    - path: data/external/a2_RestaurantReviews_FreshDump.tsv
      hash: md5
      md5: 097c8b95f6b255e5a6a06b29d61fef8e
      size: 6504
  training:
    cmd: python src/training.py
    deps:
    - path: data/external/a1_RestaurantReviews_HistoricDump.tsv
      hash: md5
      md5: 102f1f4193e0bdebdd6cce7f13e0a839
      size: 54686
    - path: data/processed/corpus.joblib
      hash: md5
      md5: 243212bb05cce5e3fdc72bfd2826d329
      size: 31612
    - path: src/preprocessing.py
      hash: md5
      md5: 1f0db9bb60d4c46c1624cbd1113d30cc
      size: 2045
    - path: src/training.py
      hash: md5
      md5: 083eba40136b7b317088f064d03609d9
      size: 2016
    outs:
    - path: data/models/c1_BoW_Sentiment_Model.pkl
      hash: md5
      md5: 160be504822dbd6e70774bb27c3e3565
      size: 39823
    - path: data/models/c2_Classifier_Sentiment_Model
      hash: md5
      md5: eff43ff6860fc80715c02caed52e8fcf
      size: 14480675
  linting:
    cmd: poetry run mllint --output reports/mllint_report.md -f
    deps:
    - path: .mllint.yml
      hash: md5
      md5: ce689fd22680c18b78a5b0fa4331a837
      size: 399
    - path: .pylintrc
      hash: md5
      md5: 18747be6246d39449933e92714ddd2ee
      size: 18348
    - path: reports/tests-report.xml
      hash: md5
      md5: e2bb4f1d64ec8c23564f3e9bbb774d69
      size: 739
    outs:
    - path: reports/mllint_report.md
      hash: md5
      md5: c05fe533d724a85a5b61e3f5d248edca
      size: 6419
  evaluation:
    cmd: python src/evaluation.py --output reports/model_evaluation.json
    deps:
    - path: data/models/c1_BoW_Sentiment_Model.pkl
      hash: md5
      md5: de6d1f3a86bc393932d3c1b197bbb53f
      size: 39823
    - path: data/models/c2_Classifier_Sentiment_Model
      hash: md5
      md5: eff43ff6860fc80715c02caed52e8fcf
      size: 14480675
    - path: src/evaluation.py
      hash: md5
      md5: f7c6ce36fc81539069c1edd54256a67d
      size: 1619
    - path: src/training.py
      hash: md5
      md5: 083eba40136b7b317088f064d03609d9
      size: 2016
    outs:
    - path: reports/model_evaluation.json
      hash: md5
      md5: 4bde4e1146787dfe0e87d3bd8d076fd2
      size: 75
  testing:
    cmd: pytest --junitxml=reports/tests-report.xml --cov=src --cov-report=xml:reports/coverage-report.xml
    deps:
    - path: data/models/c1_BoW_Sentiment_Model.pkl
      hash: md5
      md5: 2a1c6b84dc01436f78fa93515ff85a8a
      size: 39823
    - path: data/models/c2_Classifier_Sentiment_Model
      hash: md5
      md5: eff43ff6860fc80715c02caed52e8fcf
      size: 14480675
    - path: src/evaluation.py
      hash: md5
      md5: f7c6ce36fc81539069c1edd54256a67d
      size: 1619
    outs:
    - path: reports/coverage-report.xml
      hash: md5
      md5: d247b8117f5c2ffda6f22eece50f312d
      size: 5434
    - path: reports/tests-report.xml
      hash: md5
      md5: e2bb4f1d64ec8c23564f3e9bbb774d69
      size: 739
